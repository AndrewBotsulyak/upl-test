{"version":3,"sources":["webpack:///./src/app/uslugi/components/category-item/category-item.component.html","webpack:///./src/app/uslugi/components/category-item/category-item.component.scss","webpack:///./src/app/uslugi/components/category-item/category-item.component.ts","webpack:///./src/app/uslugi/components/category-item/category-item.module.ts","webpack:///./src/app/uslugi/components/usluga-item/usluga-item.component.html","webpack:///./src/app/uslugi/components/usluga-item/usluga-item.component.scss","webpack:///./src/app/uslugi/components/usluga-item/usluga-item.component.ts","webpack:///./src/app/uslugi/components/usluga-item/usluga-item.module.ts","webpack:///./src/app/uslugi/containers/category-list/category-list.component.html","webpack:///./src/app/uslugi/containers/category-list/category-list.component.scss","webpack:///./src/app/uslugi/containers/category-list/category-list.component.ts","webpack:///./src/app/uslugi/containers/category-list/category-list.module.ts","webpack:///./src/app/uslugi/services/uslugi.guard.ts","webpack:///./src/app/uslugi/uslugi-routing.module.ts","webpack:///./src/app/uslugi/uslugi.module.ts"],"names":[],"mappings":"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","file":"uslugi-uslugi-module.js","sourcesContent":["module.exports = \"<div\\n  class=\\\"category-item\\\"\\n  (click)=\\\"handleCategoryClick()\\\"\\n>\\n  <p>\\n    {{item.title}}\\n  </p>\\n\\n</div>\\n\"","module.exports = \":host {\\n  display: flex;\\n  flex: 1 1 auto; }\\n  :host.active .category-item {\\n    background-color: #fff; }\\n  .category-item {\\n  display: flex;\\n  align-items: center;\\n  padding: 0 5px;\\n  width: 100%;\\n  background-color: #f1f1f9;\\n  cursor: pointer; }\\n  .category-item:hover {\\n    background-color: #fff; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2FuZHJldy9teS91cGxhdGEtdGVzdC9zcmMvYXBwL3VzbHVnaS9jb21wb25lbnRzL2NhdGVnb3J5LWl0ZW0vY2F0ZWdvcnktaXRlbS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQWE7RUFDYixjQUFjLEVBQUE7RUFGaEI7SUFNTSxzQkFBc0IsRUFBQTtFQUs1QjtFQUNFLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsY0FBYztFQUNkLFdBQVc7RUFFWCx5QkFBeUI7RUFDekIsZUFBZSxFQUFBO0VBUGpCO0lBVUksc0JBQXNCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC91c2x1Z2kvY29tcG9uZW50cy9jYXRlZ29yeS1pdGVtL2NhdGVnb3J5LWl0ZW0uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXg6IDEgMSBhdXRvO1xuXG4gICYuYWN0aXZlIHtcbiAgICAuY2F0ZWdvcnktaXRlbSB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgIH1cbiAgfVxufVxuXG4uY2F0ZWdvcnktaXRlbSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIHBhZGRpbmc6IDAgNXB4O1xuICB3aWR0aDogMTAwJTtcblxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjFmMWY5O1xuICBjdXJzb3I6IHBvaW50ZXI7XG5cbiAgJjpob3ZlciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgfVxufVxuIl19 */\"","import {ChangeDetectionStrategy, Component, EventEmitter, Input, Output} from '@angular/core';\nimport {ICategory} from '../../models/usluga.model';\n\n\n@Component({\n  selector: 'category-item',\n  templateUrl: './category-item.component.html',\n  styleUrls: ['./category-item.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class CategoryItemComponent {\n\n  @Input() public item: ICategory;\n\n  @Output() categoryClick = new EventEmitter<ICategory>();\n\n  constructor() {}\n\n  handleCategoryClick() {\n    this.categoryClick.emit(this.item);\n  }\n\n}\n","import {NgModule} from '@angular/core';\nimport {SharedModule} from '../../../../shared/shared.module';\nimport {CategoryItemComponent} from './category-item.component';\n\n@NgModule({\n  imports: [\n    SharedModule\n  ],\n  exports: [\n    CategoryItemComponent\n  ],\n  declarations: [\n    CategoryItemComponent\n  ]\n})\nexport class CategoryItemModule {}\n\n","module.exports = \"<div\\n  class=\\\"usluga-item\\\"\\n  (click)=\\\"handleUslugaClick()\\\"\\n>\\n\\n  <img\\n    src=\\\"assets/img/2746.png\\\"\\n    alt=\\\"\\\"\\n    class=\\\"usluga-item--img\\\"\\n  >\\n\\n  <p>\\n    {{item.title}}\\n  </p>\\n\\n</div>\\n\"","module.exports = \":host {\\n  width: 130px;\\n  height: 180px; }\\n\\n.usluga-item {\\n  display: flex;\\n  flex-direction: column;\\n  box-sizing: border-box;\\n  align-items: center;\\n  justify-content: center;\\n  width: 100%;\\n  text-align: center; }\\n\\n.usluga-item--img {\\n  width: 100%;\\n  height: 100%; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2FuZHJldy9teS91cGxhdGEtdGVzdC9zcmMvYXBwL3VzbHVnaS9jb21wb25lbnRzL3VzbHVnYS1pdGVtL3VzbHVnYS1pdGVtLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsWUFBWTtFQUNaLGFBQWEsRUFBQTs7QUFHZjtFQUNFLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsc0JBQXNCO0VBQ3RCLG1CQUFtQjtFQUNuQix1QkFBdUI7RUFDdkIsV0FBVztFQUVYLGtCQUFrQixFQUFBOztBQUdwQjtFQUNFLFdBQVc7RUFDWCxZQUFZLEVBQUEiLCJmaWxlIjoic3JjL2FwcC91c2x1Z2kvY29tcG9uZW50cy91c2x1Z2EtaXRlbS91c2x1Z2EtaXRlbS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcbiAgd2lkdGg6IDEzMHB4O1xuICBoZWlnaHQ6IDE4MHB4O1xufVxuXG4udXNsdWdhLWl0ZW0ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgd2lkdGg6IDEwMCU7XG5cbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4udXNsdWdhLWl0ZW0tLWltZyB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG59XG4iXX0= */\"","import {ChangeDetectionStrategy, Component, EventEmitter, Input, Output} from '@angular/core';\nimport {IUslugaItem} from '../../models/usluga.model';\n\n\n@Component({\n  selector: 'usluga-item',\n  templateUrl: './usluga-item.component.html',\n  styleUrls: ['./usluga-item.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class UslugaItemComponent {\n\n  @Input() public item: IUslugaItem;\n\n  @Output() uslugaClick = new EventEmitter<IUslugaItem>();\n\n  constructor() {}\n\n  handleUslugaClick() {\n    this.uslugaClick.emit(this.item);\n  }\n\n}\n","import {NgModule} from '@angular/core';\nimport {SharedModule} from '../../../../shared/shared.module';\nimport {UslugaItemComponent} from './usluga-item.component';\n\n@NgModule({\n  imports: [\n    SharedModule\n  ],\n  exports: [\n    UslugaItemComponent\n  ],\n  declarations: [\n    UslugaItemComponent\n  ]\n})\nexport class UslugaItemModule {}\n\n","module.exports = \"\\n<div class=\\\"uslugi-container\\\">\\n\\n  <div class=\\\"categories-wrap\\\">\\n\\n      <category-item *ngFor=\\\"let category of (categories$ | async); trackBy: trackByFunc\\\"\\n        [item]=\\\"category\\\"\\n        (categoryClick)=\\\"handleCategoryClick($event)\\\"\\n        [class]=\\\"(activeCategory$ | async)?.id === category.id ? 'active' : ''\\\"\\n      >\\n      </category-item>\\n\\n  </div>\\n\\n  <div class=\\\"uslugi-item-wrap\\\">\\n\\n    <ng-container\\n      *ngIf=\\\"(activeUsluga$ | async); then openUsluga; else uslugaList\\\">\\n    </ng-container>\\n\\n    <ng-template #uslugaList>\\n      <usluga-item\\n        *ngFor=\\\"let usluga of (activeCategory$ | async).uslugi\\\"\\n        [item]=\\\"usluga\\\"\\n        (uslugaClick)=\\\"handleUslugaClick($event)\\\"\\n      >\\n      </usluga-item>\\n    </ng-template>\\n\\n    <ng-template #openUsluga>\\n      <usluga-item\\n        [item]=\\\"(activeUsluga$ | async)\\\"\\n        (uslugaClick)=\\\"handleUslugaClick($event)\\\"\\n      >\\n      </usluga-item>\\n    </ng-template>\\n\\n  </div>\\n\\n</div>\\n\\n<hr>\\n\\n<div class=\\\"\\\">\\n  <p>\\n    If server down (for example)\\n  </p>\\n\\n  <button (click)=\\\"handleErrorClick()\\\">Get 505 Error</button>\\n</div>\\n\"","module.exports = \":host {\\n  display: flex;\\n  flex-direction: column; }\\n\\n.uslugi-container {\\n  display: flex;\\n  flex: 1 1 100%;\\n  width: 800px;\\n  height: 540px; }\\n\\n.categories-wrap {\\n  display: flex;\\n  flex-direction: column;\\n  flex: 1 1 40%; }\\n\\n.uslugi-item-wrap {\\n  display: flex;\\n  flex-wrap: wrap;\\n  justify-content: center;\\n  flex: 1 1 60%;\\n  overflow-y: scroll; }\\n\\nhr {\\n  width: 100%; }\\n\\n/deep/ p {\\n  margin: 0; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2FuZHJldy9teS91cGxhdGEtdGVzdC9zcmMvYXBwL3VzbHVnaS9jb250YWluZXJzL2NhdGVnb3J5LWxpc3QvY2F0ZWdvcnktbGlzdC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQWE7RUFDYixzQkFBc0IsRUFBQTs7QUFHeEI7RUFDRSxhQUFhO0VBQ2IsY0FBYztFQUNkLFlBQVk7RUFDWixhQUFhLEVBQUE7O0FBR2Y7RUFDRSxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLGFBQWEsRUFBQTs7QUFHZjtFQUNFLGFBQWE7RUFDYixlQUFlO0VBQ2YsdUJBQXVCO0VBQ3ZCLGFBQWE7RUFFYixrQkFBa0IsRUFBQTs7QUFHcEI7RUFDRSxXQUFXLEVBQUE7O0FBR2I7RUFDRSxTQUFTLEVBQUEiLCJmaWxlIjoic3JjL2FwcC91c2x1Z2kvY29udGFpbmVycy9jYXRlZ29yeS1saXN0L2NhdGVnb3J5LWxpc3QuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG59XG5cbi51c2x1Z2ktY29udGFpbmVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleDogMSAxIDEwMCU7XG4gIHdpZHRoOiA4MDBweDtcbiAgaGVpZ2h0OiA1NDBweDtcbn1cblxuLmNhdGVnb3JpZXMtd3JhcCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGZsZXg6IDEgMSA0MCU7XG59XG5cbi51c2x1Z2ktaXRlbS13cmFwIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC13cmFwOiB3cmFwO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgZmxleDogMSAxIDYwJTtcblxuICBvdmVyZmxvdy15OiBzY3JvbGw7XG59XG5cbmhyIHtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi9kZWVwLyBwIHtcbiAgbWFyZ2luOiAwO1xufVxuIl19 */\"","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {UslugiStoreService} from '../../store/uslugi-store.service';\nimport {ICategory, IUslugaItem} from '../../models/usluga.model';\nimport {Observable, Subject} from 'rxjs';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {AuthApiService} from '../../services/auth-api.service';\n\n\n@Component({\n  selector: 'category-list',\n  templateUrl: './category-list.component.html',\n  styleUrls: ['./category-list.component.scss']\n})\nexport class CategoryListComponent implements OnInit, OnDestroy {\n\n  categories$: Observable<ICategory[]>;\n  activeCategory$: Observable<ICategory>;\n  activeUsluga$: Observable<IUslugaItem>;\n\n  destroyed$ = new Subject<boolean>();\n\n  constructor(\n    private uslugiStoreService: UslugiStoreService,\n    private router: Router,\n    private activatedRoute: ActivatedRoute,\n    private httpErrorService: AuthApiService\n  ) { }\n\n  ngOnInit() {\n    this.categories$ = this.uslugiStoreService.getCategoryEntities();\n    this.activeCategory$ = this.uslugiStoreService.getActiveCategory();\n    this.activeUsluga$ = this.uslugiStoreService.getActiveUsluga();\n  }\n\n  handleCategoryClick(category: ICategory) {\n    this.uslugiStoreService.dispatchActivateCategory(category);\n    this.router.navigateByUrl(category.url);\n  }\n\n  handleUslugaClick(usluga: IUslugaItem) {\n    this.router.navigate([usluga.url], {relativeTo: this.activatedRoute});\n  }\n\n  handleErrorClick() {\n    this.httpErrorService.register().subscribe(() => {});\n  }\n\n  trackByFunc(index, item: ICategory) {\n    return item.id ;\n  }\n\n  ngOnDestroy() {\n    this.destroyed$.next(true);\n  }\n\n}\n","import {NgModule} from '@angular/core';\nimport {SharedModule} from '../../../../shared/shared.module';\nimport {CategoryListComponent} from './category-list.component';\nimport {CategoryItemModule} from '../../components/category-item/category-item.module';\nimport {UslugaItemModule} from '../../components/usluga-item/usluga-item.module';\n\n\n@NgModule({\n  imports: [\n    SharedModule,\n    CategoryItemModule,\n    UslugaItemModule\n  ],\n  exports: [\n    CategoryListComponent\n  ],\n  declarations: [CategoryListComponent]\n})\nexport class CategoryListModule {}\n","import {Injectable} from '@angular/core';\nimport {CanActivate, CanLoad, Route, Router, UrlSegment} from '@angular/router';\nimport {Observable} from 'rxjs';\nimport {ActivatedRouteSnapshot, RouterStateSnapshot} from '@angular/router/src/router_state';\nimport {UslugiStoreService} from '../store/uslugi-store.service';\nimport {filter, first, map, take, tap, withLatestFrom} from 'rxjs/internal/operators';\n\n\n@Injectable()\nexport class UslugiGuard implements CanActivate {\n\n\n  constructor(\n    private uslugiStoreService: UslugiStoreService,\n    private router: Router\n  ) {}\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> | boolean {\n\n    const { categoryId, uslugaId } = route.params;\n\n    return Observable.create((observer) => {\n\n      this.uslugiStoreService.getActiveCategory().pipe(\n        filter(data => !!data),\n        filter(data => !!data.uslugi),\n        take(1),\n        tap(category => {\n          const usluga = category.uslugi.find(u => u.url === uslugaId);\n\n          if (!usluga) {\n            this.router.navigate(['/404']);\n            observer.next(false);\n            return;\n          }\n\n          this.uslugiStoreService.dispatchOpenUslugaById(+usluga.id);\n\n          observer.next(true);\n        })\n      ).subscribe();\n\n    });\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {RouterModule, Routes} from '@angular/router';\nimport {CategoryListComponent} from './containers/category-list/category-list.component';\nimport {UslugiGuard} from './services/uslugi.guard';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CategoryListComponent,\n    children: [\n      {\n        path: ':uslugaId',\n        canActivate: [UslugiGuard]\n      }\n    ]\n  }\n];\n\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class UslugiRoutingModule {}\n","import {NgModule} from '@angular/core';\nimport {SharedModule} from '../../shared/shared.module';\nimport {CategoryListModule} from './containers/category-list/category-list.module';\nimport {UslugiRoutingModule} from './uslugi-routing.module';\nimport {UslugiStoreModule} from './store/uslugi-store.module';\nimport {UslugiGuard} from './services/uslugi.guard';\nimport {AuthApiService} from './services/auth-api.service';\n\n\n@NgModule({\n  imports: [\n    SharedModule,\n    UslugiRoutingModule,\n    CategoryListModule\n  ],\n  providers: [\n    UslugiGuard,\n  ]\n})\nexport class UslugiModule {}\n"],"sourceRoot":""}